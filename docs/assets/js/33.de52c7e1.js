(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{348:function(t,a,s){"use strict";s.r(a);var r=s(18),_=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"前端性能优化方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端性能优化方案"}},[t._v("#")]),t._v(" 前端性能优化方案")]),t._v(" "),a("h2",{attrs:{id:"_1-减少耗时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-减少耗时"}},[t._v("#")]),t._v(" 1. 减少耗时")]),t._v(" "),a("h3",{attrs:{id:"_1-1-缓存策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-缓存策略"}},[t._v("#")]),t._v(" 1.1 缓存策略")]),t._v(" "),a("p",[t._v("合理利用缓存可以显著减少资源加载时间：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("浏览器缓存")]),t._v("：通过设置 Expires 和 Cache-Control 实现强缓存")]),t._v(" "),a("li",[a("strong",[t._v("协商缓存")]),t._v("：通过设置 Last-Modified/If-Modified-Since 和 ETag/If-None-Match 实现")]),t._v(" "),a("li",[a("strong",[t._v("服务端缓存")]),t._v("：利用Redis、Memcached等技术缓存计算结果")]),t._v(" "),a("li",[a("strong",[t._v("CDN缓存")]),t._v("：将静态资源分发到全球节点，提升用户访问速度")]),t._v(" "),a("li",[a("strong",[t._v("DNS缓存")]),t._v("：预解析（dns-prefetch）、本地、运营商DNS查询缓存")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-减少请求耗时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-减少请求耗时"}},[t._v("#")]),t._v(" 1.2 减少请求耗时")]),t._v(" "),a("p",[t._v("从请求次数和请求大小两个维度优化：")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("减少请求次数")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("合并资源（CSS Sprites、JS/CSS文件合并）")]),t._v(" "),a("li",[t._v("使用缓存避免重复请求")]),t._v(" "),a("li",[t._v("服务端开启Gzip压缩")]),t._v(" "),a("li",[t._v("使用HTTP/2多路复用技术")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("减少请求大小")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("开启Gzip/Brotli压缩")]),t._v(" "),a("li",[t._v("使用更高效的图片格式（WebP、AVIF）")]),t._v(" "),a("li",[t._v("Tree-shaking清除未使用代码")]),t._v(" "),a("li",[t._v("代码压缩和混淆")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-减少资源大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-减少资源大小"}},[t._v("#")]),t._v(" 2. 减少资源大小")]),t._v(" "),a("h3",{attrs:{id:"_2-1-gzip-brotli压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-gzip-brotli压缩"}},[t._v("#")]),t._v(" 2.1 Gzip/Brotli压缩")]),t._v(" "),a("ul",[a("li",[t._v("服务端开启Gzip/Brotli压缩可以有效减少传输资源的大小 40%")]),t._v(" "),a("li",[t._v("webpack插件：compression-webpack-plugin")]),t._v(" "),a("li",[t._v("Nginx配置示例：")])]),t._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("on")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_types")]),t._v(" text/plain text/css application/json application/javascript text/xml application/xml")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-2-tree-shaking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-tree-shaking"}},[t._v("#")]),t._v(" 2.2 Tree-shaking")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Tree-shaking 是一种通过清除多余代码方式来优化项目打包体积的技术")])]),t._v(" "),a("li",[a("p",[t._v("基于ES6的静态引用，Tree-shaking通过扫描所有ES6的export，找出被import的内容并添加到最终代码中")])]),t._v(" "),a("li",[a("p",[t._v("webpack4中只需要将mode设置为production就会默认启动Tree-shaking")])]),t._v(" "),a("li",[a("p",[t._v("需要注意：只有ES6模块语法才能被Tree-shaking优化，CommonJS模块无法被优化")])]),t._v(" "),a("li",[a("p",[t._v("打包 针对图片进行压缩")])]),t._v(" "),a("li",[a("p",[t._v("打包 按需加载，减少无用包的引入")])]),t._v(" "),a("li",[a("p",[t._v("减小第三方库的大小，如Moment.js/lodash等，使用轻量级别替代方案或者自己重新实现 dayjs")])])]),t._v(" "),a("h2",{attrs:{id:"_3-css优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-css优化"}},[t._v("#")]),t._v(" 3. CSS优化")]),t._v(" "),a("h3",{attrs:{id:"_3-1-避免使用css表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-避免使用css表达式"}},[t._v("#")]),t._v(" 3.1 避免使用CSS表达式")]),t._v(" "),a("p",[t._v("CSS表达式会频繁执行，影响页面性能：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* bad */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("."),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHours")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("%2?"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#fff"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* good */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #fff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"_3-2-使用link代替-import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-使用link代替-import"}},[t._v("#")]),t._v(" 3.2 使用link代替@import")]),t._v(" "),a("ul",[a("li",[t._v("link属于HTML标签，@import属于CSS范畴")]),t._v(" "),a("li",[t._v("link最大限度支持并行下载，@import会使得页面在加载时增加额外的延迟")]),t._v(" "),a("li",[t._v('link可以通过rel="alternate stylesheet"指定候选样式')]),t._v(" "),a("li",[t._v("浏览器对link支持早于@import")])]),t._v(" "),a("h3",{attrs:{id:"_3-3-css文件优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-css文件优化"}},[t._v("#")]),t._v(" 3.3 CSS文件优化")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("压缩CSS文件")]),t._v("：移除空格、注释和不必要的字符")]),t._v(" "),a("li",[a("strong",[t._v("合并CSS文件")]),t._v("：减少HTTP请求数量")]),t._v(" "),a("li",[a("strong",[t._v("使用CSS Sprites")]),t._v("：合并小图标图片")]),t._v(" "),a("li",[a("strong",[t._v("避免CSS选择器嵌套过深")]),t._v("：减少CSS引擎查找元素的时间（读取选择器，遵循从右到左读取。避免通配符，最大化样式继承，少用标签选择器，减少过深嵌套）")]),t._v(" "),a("li",[a("strong",[t._v("使用CSS3硬件加速")]),t._v("：利用GPU提升动画性能")]),t._v(" "),a("li",[a("strong",[t._v("使用Flex布局")]),t._v("：使用新版的 flex 进行布局比我们用的一些“老式”方法性能更好")])]),t._v(" "),a("h2",{attrs:{id:"_4-javascript优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-javascript优化"}},[t._v("#")]),t._v(" 4. JavaScript优化")]),t._v(" "),a("h3",{attrs:{id:"_4-1-js文件位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-js文件位置"}},[t._v("#")]),t._v(" 4.1 JS文件位置")]),t._v(" "),a("ul",[a("li",[t._v("JS会阻塞页面渲染，将JS文件放在body底部可以优先渲染页面内容")]),t._v(" "),a("li",[t._v("使用async/defer属性异步加载脚本：\n"),a("ul",[a("li",[a("code",[t._v("async")]),t._v("：立即下载脚本，下载完立即执行（不保证执行顺序）")]),t._v(" "),a("li",[a("code",[t._v("defer")]),t._v("：立即下载脚本，等待DOM解析完成后按顺序执行")])])])]),t._v(" "),a("h3",{attrs:{id:"_4-2-外部js文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-外部js文件"}},[t._v("#")]),t._v(" 4.2 外部JS文件")]),t._v(" "),a("ul",[a("li",[t._v("外部JS文件可以被浏览器缓存，减少重复下载")]),t._v(" "),a("li",[t._v("外部JS文件可以被多个页面共享")]),t._v(" "),a("li",[t._v("合理拆分JS文件，避免单个文件过大")])]),t._v(" "),a("h3",{attrs:{id:"_4-3-减少dom访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-减少dom访问"}},[t._v("#")]),t._v(" 4.3 减少DOM访问")]),t._v(" "),a("ul",[a("li",[t._v("缓存DOM元素：重复访问的DOM元素应该缓存到局部变量中")]),t._v(" "),a("li",[t._v("减少DOM操作：合并多次DOM操作，减少重排和重绘")]),t._v(" "),a("li",[t._v("使用DocumentFragment批量操作DOM")]),t._v(" "),a("li",[t._v("避免在循环中操作DOM")])]),t._v(" "),a("h3",{attrs:{id:"_4-4-代码优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-代码优化"}},[t._v("#")]),t._v(" 4.4 代码优化")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("变量优化")]),t._v("：使用局部变量而非全局变量，减少作用域链查找")]),t._v(" "),a("li",[a("strong",[t._v("循环优化")]),t._v("：减少循环内重复计算，使用缓存变量")]),t._v(" "),a("li",[a("strong",[t._v("事件优化")]),t._v("：使用事件委托减少事件监听器数量")]),t._v(" "),a("li",[a("strong",[t._v("防抖节流")]),t._v("：对频繁触发的事件使用防抖节流优化")])]),t._v(" "),a("h2",{attrs:{id:"_5-图片优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-图片优化"}},[t._v("#")]),t._v(" 5. 图片优化")]),t._v(" "),a("h3",{attrs:{id:"_5-1-压缩图片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-压缩图片"}},[t._v("#")]),t._v(" 5.1 压缩图片")]),t._v(" "),a("ul",[a("li",[t._v("使用工具压缩图片，减少图片大小")]),t._v(" "),a("li",[t._v("工具：tinypng、imagemin-webpack-plugin、squoosh")]),t._v(" "),a("li",[t._v("在线工具：TinyPNG、智图")])]),t._v(" "),a("h3",{attrs:{id:"_5-2-使用css-sprites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-使用css-sprites"}},[t._v("#")]),t._v(" 5.2 使用CSS Sprites")]),t._v(" "),a("ul",[a("li",[t._v("将多个小图片合并成一张大图片，减少HTTP请求次数")]),t._v(" "),a("li",[t._v("注意维护成本，适用于不经常变动的小图标")])]),t._v(" "),a("h3",{attrs:{id:"_5-3-使用更高效的图片格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-使用更高效的图片格式"}},[t._v("#")]),t._v(" 5.3 使用更高效的图片格式")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("WebP格式")]),t._v("：相比JPEG和PNG，WebP可以提供更好的压缩率和质量")]),t._v(" "),a("li",[a("strong",[t._v("AVIF格式")]),t._v("：新一代图像格式，压缩率比WebP更好")]),t._v(" "),a("li",[a("strong",[t._v("SVG格式")]),t._v("：对于简单的图标和图形，SVG可以提供无损缩放和较小的文件大小")])]),t._v(" "),a("h3",{attrs:{id:"_5-4-图片懒加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-图片懒加载"}},[t._v("#")]),t._v(" 5.4 图片懒加载")]),t._v(" "),a("ul",[a("li",[t._v("对于页面中不需要立即显示的图片，可以使用懒加载技术，当用户滚动到图片位置时再加载图片")]),t._v(" "),a("li",[t._v("实现原理：监听滚动事件，判断图片是否进入可视区域，如果进入则加载图片")]),t._v(" "),a("li",[t._v("现代浏览器原生支持：使用"),a("code",[t._v('loading="lazy"')]),t._v("属性")])]),t._v(" "),a("h3",{attrs:{id:"_5-5-响应式图片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-响应式图片"}},[t._v("#")]),t._v(" 5.5 响应式图片")]),t._v(" "),a("ul",[a("li",[t._v("使用"),a("code",[t._v("<picture>")]),t._v("元素和"),a("code",[t._v("srcset")]),t._v("属性实现响应式图片")]),t._v(" "),a("li",[t._v("根据设备屏幕密度和尺寸加载不同分辨率的图片")]),t._v(" "),a("li",[t._v("代码示例："),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("picture")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("media")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(min-width: 768px)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("srcset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("large.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("media")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(min-width: 480px)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("srcset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("medium.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("small.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("响应式图片"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("picture")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])])]),t._v(" "),a("h2",{attrs:{id:"_6-dom优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-dom优化"}},[t._v("#")]),t._v(" 6. DOM优化")]),t._v(" "),a("h3",{attrs:{id:"_6-1-合并修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-合并修改"}},[t._v("#")]),t._v(" 6.1 合并修改")]),t._v(" "),a("ul",[a("li",[t._v("合并多次DOM修改，减少重排和重绘")]),t._v(" "),a("li",[t._v("使用DocumentFragment批量操作DOM")]),t._v(" "),a("li",[t._v("使用CSS类名批量修改样式，而非逐个修改style属性")]),t._v(" "),a("li",[t._v("避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来")])]),t._v(" "),a("h3",{attrs:{id:"_6-2-虚拟列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-虚拟列表"}},[t._v("#")]),t._v(" 6.2 虚拟列表")]),t._v(" "),a("ul",[a("li",[t._v("对于大量数据的列表，可以使用虚拟列表技术，只渲染可视区域的列表项，减少DOM节点数量")]),t._v(" "),a("li",[t._v("常用库：react-window、react-virtualized、vue-virtual-scroll-list")])]),t._v(" "),a("h3",{attrs:{id:"_6-3-事件委托"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-事件委托"}},[t._v("#")]),t._v(" 6.3 事件委托")]),t._v(" "),a("ul",[a("li",[t._v("利用事件冒泡机制，将事件监听器绑定到父元素上，减少事件监听器数量")]),t._v(" "),a("li",[t._v("适用于动态添加的元素，无需为每个元素单独绑定事件")]),t._v(" "),a("li",[t._v("使用函数节流（throttle）或函数防抖（debounce），限制某一个方法的频繁触发")])]),t._v(" "),a("h3",{attrs:{id:"_6-4-其他dom优化技巧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-其他dom优化技巧"}},[t._v("#")]),t._v(" 6.4 其他DOM优化技巧")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("减少DOM节点数量")]),t._v("：避免不必要的嵌套和冗余元素")]),t._v(" "),a("li",[a("strong",[t._v("优化CSS选择器")]),t._v("：避免使用低效的选择器（如属性选择器、通配符选择器）")]),t._v(" "),a("li",[a("strong",[t._v("使用requestAnimationFrame")]),t._v("：将DOM操作推迟到下一帧执行，避免阻塞渲染")]),t._v(" "),a("li",[a("strong",[t._v("避免强制同步布局")]),t._v("：不要在修改DOM后立即读取布局属性")]),t._v(" "),a("li",[a("strong",[t._v("CSS是阻塞的资源")]),t._v("： 尽早（CSS放在head里）和尽快（启用CDN）。浏览器在构建CSSOM的过程中，不会渲染任何已处理的内容，即便DOM已经解析完毕了，防止浏览器有可能还未下载和解析到CSS就已经开始渲染页面")]),t._v(" "),a("li",[a("strong",[t._v("JS阻塞")]),t._v("： 加载或者执行JS时会阻塞对标签的解析，也就是阻塞了DOM 树的形成，只有等到JS执行完毕，浏览器才会继续解析标签（因为加载的 JS 中可能会创建，删除节点）")]),t._v(" "),a("li",[a("strong",[t._v("defer并行下载")]),t._v("： 不会阻塞 HTML 解析，等到 DOM 生成完毕且 script 加载完毕再执行 JS")]),t._v(" "),a("li",[t._v("**async并行下载：表示异步执行引入的 JS，加载时不会阻塞 HTML解析，但是加载完成后立马执行，此时仍然会阻塞 load 事件")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("标签")]),t._v(" "),a("th",[t._v("js执行顺序")]),t._v(" "),a("th",[t._v("阻塞解析HTML")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("scipt")]),t._v(" "),a("td",[t._v("在HTML中的顺序")]),t._v(" "),a("td",[t._v("阻塞")])]),t._v(" "),a("tr",[a("td",[t._v("scipt defer")]),t._v(" "),a("td",[t._v("在HTML中的顺序")]),t._v(" "),a("td",[t._v("不阻塞解析")])]),t._v(" "),a("tr",[a("td",[t._v("scipt async")]),t._v(" "),a("td",[t._v("网络请求返回顺序")]),t._v(" "),a("td",[t._v("可能阻塞，也可能不阻塞，取决于什么时候下载完成")])])])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.liamhuo.com/web/2-Js%E5%9F%BA%E7%A1%80/00-Js%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93.html#_6-script-%E6%A0%87%E7%AD%BE%E4%B8%AD-defer-%E5%92%8C-async-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细区别"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"_7-浏览器渲染优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-浏览器渲染优化"}},[t._v("#")]),t._v(" 7. 浏览器渲染优化")]),t._v(" "),a("h3",{attrs:{id:"_7-1-关键渲染路径优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-关键渲染路径优化"}},[t._v("#")]),t._v(" 7.1 关键渲染路径优化")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("减少关键资源数量")]),t._v("：内联关键CSS，延迟加载非关键资源")]),t._v(" "),a("li",[a("strong",[t._v("优化关键资源大小")]),t._v("：压缩CSS、JavaScript和HTML")]),t._v(" "),a("li",[a("strong",[t._v("减少关键路径长度")]),t._v("：减少资源请求的依赖链")])]),t._v(" "),a("h3",{attrs:{id:"_7-2-css优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-css优化"}},[t._v("#")]),t._v(" 7.2 CSS优化")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("内联关键CSS")]),t._v("：将首屏渲染必需的CSS内联到HTML中")]),t._v(" "),a("li",[a("strong",[t._v("避免CSS阻塞渲染")]),t._v("：使用media属性标记非关键CSS"),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("non-critical.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("media")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("print"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token special-attr"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onload")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token value javascript language-javascript"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("media"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'all'")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("strong",[t._v("避免CSS选择器嵌套过深")]),t._v("：减少CSS引擎查找元素的时间")])]),t._v(" "),a("h3",{attrs:{id:"_7-3-图片优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-图片优化"}},[t._v("#")]),t._v(" 7.3 图片优化")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("图片懒加载")]),t._v('：使用loading="lazy"属性延迟加载非关键图片')])]),t._v(" "),a("h2",{attrs:{id:"_8-其他优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-其他优化"}},[t._v("#")]),t._v(" 8. 其他优化")]),t._v(" "),a("h3",{attrs:{id:"_8-1-使用web-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-使用web-worker"}},[t._v("#")]),t._v(" 8.1 使用Web Worker")]),t._v(" "),a("ul",[a("li",[t._v("将耗时的计算任务放到web worker中执行，避免阻塞主线程")]),t._v(" "),a("li",[t._v("适用于图像处理、大数据计算等场景")]),t._v(" "),a("li",[t._v("注意：web worker中无法访问DOM，只能通过postMessage通信")])]),t._v(" "),a("h3",{attrs:{id:"_8-2-使用骨架屏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-使用骨架屏"}},[t._v("#")]),t._v(" 8.2 使用骨架屏")]),t._v(" "),a("ul",[a("li",[t._v("在页面内容加载完成前，显示骨架屏，提升用户体验")]),t._v(" "),a("li",[t._v("骨架屏应该与实际内容布局保持一致")]),t._v(" "),a("li",[t._v("可以使用CSS动画实现加载效果")])]),t._v(" "),a("h3",{attrs:{id:"_8-3-服务端渲染-ssr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-服务端渲染-ssr"}},[t._v("#")]),t._v(" 8.3 服务端渲染（SSR）")]),t._v(" "),a("ul",[a("li",[t._v("使用服务端渲染可以减少首屏渲染时间，提升SEO效果")]),t._v(" "),a("li",[t._v("常用框架：Next.js、Nuxt.js")]),t._v(" "),a("li",[t._v("注意：会增加服务端压力，需要权衡利弊")])]),t._v(" "),a("h3",{attrs:{id:"_8-4-预加载和预渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-预加载和预渲染"}},[t._v("#")]),t._v(" 8.4 预加载和预渲染")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("DNS预解析")]),t._v("：提前解析域名，减少DNS查询时间")]),t._v(" "),a("li",[a("strong",[t._v("预加载关键资源")]),t._v("：使用"),a("code",[t._v('<link rel="preload">')]),t._v("提前加载关键资源")]),t._v(" "),a("li",[a("strong",[t._v("预渲染")]),t._v("：提前渲染页面内容，减少白屏时间")])]),t._v(" "),a("h3",{attrs:{id:"_8-5-pwa优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-5-pwa优化"}},[t._v("#")]),t._v(" 8.5 PWA优化")]),t._v(" "),a("ul",[a("li",[t._v("使用Service Worker实现离线缓存")]),t._v(" "),a("li",[t._v("添加Web App Manifest实现添加到主屏幕功能")]),t._v(" "),a("li",[t._v("使用Push API实现消息推送")])])])}),[],!1,null,null,null);a.default=_.exports}}]);