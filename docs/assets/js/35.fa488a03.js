(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{350:function(t,a,s){"use strict";s.r(a);var n=s(18),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"dns预解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns预解析"}},[t._v("#")]),t._v(" DNS预解析")]),t._v(" "),a("h2",{attrs:{id:"_1-背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-背景"}},[t._v("#")]),t._v(" 1. 背景")]),t._v(" "),a("p",[t._v("当浏览器从第三方服务器请求资源时，需要先将该第三方的域名解析为IP地址，然后才能向该IP地址请求资源。这个DNS解析过程会增加请求的延迟，特别是在移动网络环境下。为了减少这种延迟，浏览器提供了DNS预解析机制，允许开发者提前解析第三方域名的DNS。")]),t._v(" "),a("p",[t._v("通过DNS预解析，可以有效减少DNS请求次数，提高网站访问速度。")]),t._v(" "),a("h2",{attrs:{id:"_2-dns与域名解析流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-dns与域名解析流程"}},[t._v("#")]),t._v(" 2. DNS与域名解析流程")]),t._v(" "),a("p",[t._v("DNS（Domain Name System）是互联网的一项服务，它作为域名和IP地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS通过将域名解析为IP地址，使得用户可以通过易于记忆的域名来访问网站，而不需要记住复杂的IP地址。")]),t._v(" "),a("p",[t._v("域名解析流程：")]),t._v(" "),a("h3",{attrs:{id:"_2-1-浏览器缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-浏览器缓存"}},[t._v("#")]),t._v(" 2.1 浏览器缓存")]),t._v(" "),a("p",[t._v("浏览器会先检查自身的DNS缓存，如果存在对应的域名和IP地址映射关系，则直接使用。")]),t._v(" "),a("h3",{attrs:{id:"_2-2-系统缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-系统缓存"}},[t._v("#")]),t._v(" 2.2 系统缓存")]),t._v(" "),a("p",[t._v("如果浏览器缓存中没有找到对应的记录，浏览器会检查操作系统的DNS缓存。")]),t._v(" "),a("h3",{attrs:{id:"_2-3-路由器缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-路由器缓存"}},[t._v("#")]),t._v(" 2.3 路由器缓存")]),t._v(" "),a("p",[t._v("如果系统缓存中没有找到对应的记录，浏览器会检查路由器的DNS缓存。")]),t._v(" "),a("h3",{attrs:{id:"_2-4-isp-dns缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-isp-dns缓存"}},[t._v("#")]),t._v(" 2.4 ISP DNS缓存")]),t._v(" "),a("p",[t._v("如果路由器缓存中没有找到对应的记录，浏览器会向ISP（互联网服务提供商）的DNS服务器发送请求，ISP DNS服务器会检查自身的缓存。")]),t._v(" "),a("h3",{attrs:{id:"_2-5-递归搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-递归搜索"}},[t._v("#")]),t._v(" 2.5 递归搜索")]),t._v(" "),a("p",[t._v("如果ISP DNS缓存中没有找到对应的记录，ISP DNS服务器会进行递归搜索，从根域名服务器开始，逐级查询，直到找到对应的IP地址。")]),t._v(" "),a("h2",{attrs:{id:"_3-解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-解决方案"}},[t._v("#")]),t._v(" 3. 解决方案")]),t._v(" "),a("p",[t._v("DNS预解析是一种DNS优化技术，它具有以下优势：")]),t._v(" "),a("ol",[a("li",[t._v("减少DNS解析延迟：提前解析域名，避免用户访问时的等待时间")]),t._v(" "),a("li",[t._v("提高页面加载速度：资源请求时DNS解析已就绪")]),t._v(" "),a("li",[t._v("优化用户体验：特别是在移动端网络环境下效果明显")])]),t._v(" "),a("h2",{attrs:{id:"_4-x-dns-prefetch-control头控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-x-dns-prefetch-control头控制"}},[t._v("#")]),t._v(" 4. X-DNS-Prefetch-Control头控制")]),t._v(" "),a("p",[a("code",[t._v("X-DNS-Prefetch-Control")]),t._v("头用于控制浏览器的DNS预解析行为。")]),t._v(" "),a("p",[t._v("取值说明")]),t._v(" "),a("ul",[a("li",[t._v("on：启用DNS预解析。在浏览器支持DNS预解析的特性时及时不适用该标签浏览器依然会进行预解析。")]),t._v(" "),a("li",[t._v("off：关闭DNS预解析。这个属性在页面上的链接并不是由你控制的或是你根本不想向这些域名引导数据时非常有用。")])]),t._v(" "),a("h2",{attrs:{id:"_5-浏览器支持情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-浏览器支持情况"}},[t._v("#")]),t._v(" 5. 浏览器支持情况")]),t._v(" "),a("p",[t._v("DNS预解析在现代浏览器中得到了广泛支持：")]),t._v(" "),a("ul",[a("li",[t._v("Chrome：完全支持")]),t._v(" "),a("li",[t._v("Firefox：完全支持")]),t._v(" "),a("li",[t._v("Safari：完全支持")]),t._v(" "),a("li",[t._v("Edge：完全支持")]),t._v(" "),a("li",[t._v("IE：IE9及以上版本支持")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dns-prefetch.png",alt:"dns-prefetch.png"}})]),t._v(" "),a("h2",{attrs:{id:"_6-使用方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-使用方式"}},[t._v("#")]),t._v(" 6. 使用方式")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 打开和关闭DNS预读取 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("x-dns-prefetch-control"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("meta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 强制查询特定主机名 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dns-prefetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//hm.baidu.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("link")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);