<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript正则表达式详解</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="JavaScript正则表达式详解">
    <meta name="keywords" content="JavaScript,正则表达式,前端,学习,元字符,修饰符,贪婪模式">
    <meta name="author" content="liam">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/assets/css/0.styles.e2f44ae9.css" as="style"><link rel="preload" href="/assets/js/app.fdbd3a7d.js" as="script"><link rel="preload" href="/assets/js/2.c135791f.js" as="script"><link rel="preload" href="/assets/js/1.ef243348.js" as="script"><link rel="preload" href="/assets/js/68.02a17eb1.js" as="script"><link rel="prefetch" href="/assets/js/10.fac04ee2.js"><link rel="prefetch" href="/assets/js/11.df95b6d6.js"><link rel="prefetch" href="/assets/js/12.d322d79f.js"><link rel="prefetch" href="/assets/js/13.d461d101.js"><link rel="prefetch" href="/assets/js/14.eee8ad98.js"><link rel="prefetch" href="/assets/js/15.2da99dce.js"><link rel="prefetch" href="/assets/js/16.8066bbcc.js"><link rel="prefetch" href="/assets/js/17.0f456d45.js"><link rel="prefetch" href="/assets/js/18.87a15af9.js"><link rel="prefetch" href="/assets/js/19.8bf1456f.js"><link rel="prefetch" href="/assets/js/20.8e68410b.js"><link rel="prefetch" href="/assets/js/21.dbe112a9.js"><link rel="prefetch" href="/assets/js/22.f152b048.js"><link rel="prefetch" href="/assets/js/23.5f51756a.js"><link rel="prefetch" href="/assets/js/24.eafe48b1.js"><link rel="prefetch" href="/assets/js/25.02eda376.js"><link rel="prefetch" href="/assets/js/26.3d00d40b.js"><link rel="prefetch" href="/assets/js/27.98f181f5.js"><link rel="prefetch" href="/assets/js/28.ad631fc4.js"><link rel="prefetch" href="/assets/js/29.b9dd2f73.js"><link rel="prefetch" href="/assets/js/3.2be8686e.js"><link rel="prefetch" href="/assets/js/30.ac2f9ca3.js"><link rel="prefetch" href="/assets/js/31.7b0dc993.js"><link rel="prefetch" href="/assets/js/32.36cfbdda.js"><link rel="prefetch" href="/assets/js/33.de52c7e1.js"><link rel="prefetch" href="/assets/js/34.e3acfb01.js"><link rel="prefetch" href="/assets/js/35.fa488a03.js"><link rel="prefetch" href="/assets/js/36.5ec5b495.js"><link rel="prefetch" href="/assets/js/37.defa9fca.js"><link rel="prefetch" href="/assets/js/38.c10c335d.js"><link rel="prefetch" href="/assets/js/39.b94d4635.js"><link rel="prefetch" href="/assets/js/4.9be6b6a0.js"><link rel="prefetch" href="/assets/js/40.c80d1540.js"><link rel="prefetch" href="/assets/js/41.0252e8a3.js"><link rel="prefetch" href="/assets/js/42.bafa2252.js"><link rel="prefetch" href="/assets/js/43.a92a8c38.js"><link rel="prefetch" href="/assets/js/44.036b9bbd.js"><link rel="prefetch" href="/assets/js/45.932a99da.js"><link rel="prefetch" href="/assets/js/46.f09b813d.js"><link rel="prefetch" href="/assets/js/47.1480826c.js"><link rel="prefetch" href="/assets/js/48.13966581.js"><link rel="prefetch" href="/assets/js/49.4891ceb5.js"><link rel="prefetch" href="/assets/js/5.740bd581.js"><link rel="prefetch" href="/assets/js/50.f013af64.js"><link rel="prefetch" href="/assets/js/51.e18a236f.js"><link rel="prefetch" href="/assets/js/52.119fc6e0.js"><link rel="prefetch" href="/assets/js/53.b0675f90.js"><link rel="prefetch" href="/assets/js/54.0e15abb1.js"><link rel="prefetch" href="/assets/js/55.2af4c93e.js"><link rel="prefetch" href="/assets/js/56.e753164e.js"><link rel="prefetch" href="/assets/js/57.fba77abc.js"><link rel="prefetch" href="/assets/js/58.f8cf67e3.js"><link rel="prefetch" href="/assets/js/59.7131c32e.js"><link rel="prefetch" href="/assets/js/6.b59cd7d8.js"><link rel="prefetch" href="/assets/js/60.8581d2d7.js"><link rel="prefetch" href="/assets/js/61.20226f1d.js"><link rel="prefetch" href="/assets/js/62.254d9ae8.js"><link rel="prefetch" href="/assets/js/63.45b87153.js"><link rel="prefetch" href="/assets/js/64.c71a7f6f.js"><link rel="prefetch" href="/assets/js/65.d5fead4d.js"><link rel="prefetch" href="/assets/js/66.414ea1ae.js"><link rel="prefetch" href="/assets/js/67.21230f8e.js"><link rel="prefetch" href="/assets/js/69.5cb10b3a.js"><link rel="prefetch" href="/assets/js/7.f54d7af6.js"><link rel="prefetch" href="/assets/js/70.c9fdf696.js"><link rel="prefetch" href="/assets/js/71.8064a150.js"><link rel="prefetch" href="/assets/js/72.4ab06319.js"><link rel="prefetch" href="/assets/js/73.a6dd0d8f.js"><link rel="prefetch" href="/assets/js/74.1f24a32f.js"><link rel="prefetch" href="/assets/js/75.19e4505d.js"><link rel="prefetch" href="/assets/js/76.ab6c86a0.js"><link rel="prefetch" href="/assets/js/77.1ce9dc61.js"><link rel="prefetch" href="/assets/js/78.e0ab9e4e.js"><link rel="prefetch" href="/assets/js/79.041b24ad.js"><link rel="prefetch" href="/assets/js/80.7e85dcac.js"><link rel="prefetch" href="/assets/js/81.c070cff6.js"><link rel="prefetch" href="/assets/js/82.05206f1b.js"><link rel="prefetch" href="/assets/js/83.58015a46.js"><link rel="prefetch" href="/assets/js/84.d65cc23d.js"><link rel="prefetch" href="/assets/js/85.aa8c60c9.js"><link rel="prefetch" href="/assets/js/86.670a93b3.js"><link rel="prefetch" href="/assets/js/87.4b8c6571.js"><link rel="prefetch" href="/assets/js/88.d0e60af8.js"><link rel="prefetch" href="/assets/js/89.fd1d2e29.js"><link rel="prefetch" href="/assets/js/90.28d64579.js"><link rel="prefetch" href="/assets/js/91.88717d89.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.92fa0d62.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e2f44ae9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header-logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/web/" class="nav-link router-link-active">
  Web
</a></div><div class="nav-item"><a href="/network/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/frame/" class="nav-link">
  框架
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/huoyuhao/huoyuhao.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/web/" class="nav-link router-link-active">
  Web
</a></div><div class="nav-item"><a href="/network/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/frame/" class="nav-link">
  框架
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/huoyuhao/huoyuhao.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>代码规范</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Js基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web/2-Js基础/00-Js基础总结.html" class="sidebar-link">Js基础总结</a></li><li><a href="/web/2-Js基础/01-Js基础数据类型.html" class="sidebar-link">Js基础数据类型</a></li><li><a href="/web/2-Js基础/01-Js数组.html" class="sidebar-link">Js数组</a></li><li><a href="/web/2-Js基础/01-Js正则表达式.html" class="active sidebar-link">Js正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_1-元字符" class="sidebar-link">1. 元字符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_1-1-边界字符" class="sidebar-link">1.1 边界字符</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_1-2-字符组" class="sidebar-link">1.2 字符组</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_1-3-量词" class="sidebar-link">1.3 量词</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_1-4-特殊字符" class="sidebar-link">1.4 特殊字符</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_1-5-转义" class="sidebar-link">1.5 转义</a></li></ul></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_2-修饰符" class="sidebar-link">2. 修饰符</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_3-javascript中的正则表达式方法" class="sidebar-link">3. JavaScript中的正则表达式方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_3-1-string对象的方法" class="sidebar-link">3.1 String对象的方法</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_3-2-regexp对象的方法" class="sidebar-link">3.2 RegExp对象的方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_4-贪婪模式和非贪婪模式" class="sidebar-link">4. 贪婪模式和非贪婪模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_4-1-贪婪匹配模式" class="sidebar-link">4.1 贪婪匹配模式</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_4-2-非贪婪匹配模式" class="sidebar-link">4.2 非贪婪匹配模式</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_4-3-回溯现象" class="sidebar-link">4.3 回溯现象</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_4-4-捕获组中的量词" class="sidebar-link">4.4 捕获组中的量词</a></li></ul></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_5-环视结构" class="sidebar-link">5. 环视结构</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_6-换行符" class="sidebar-link">6. 换行符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_6-1-正则相关" class="sidebar-link">6.1 正则相关</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_6-2-区别" class="sidebar-link">6.2 区别</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_6-3-实例分析" class="sidebar-link">6.3 实例分析</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_6-4-js使用换行" class="sidebar-link">6.4 js使用换行</a></li><li class="sidebar-sub-header"><a href="/web/2-Js基础/01-Js正则表达式.html#_6-5-软回车与硬回车" class="sidebar-link">6.5 软回车与硬回车</a></li></ul></li></ul></li><li><a href="/web/2-Js基础/02-Js执行机制.html" class="sidebar-link">Js执行机制</a></li><li><a href="/web/2-Js基础/03-Js中This.html" class="sidebar-link">Js中This</a></li><li><a href="/web/2-Js基础/03-Js中的call方法.html" class="sidebar-link">Js中的call方法</a></li><li><a href="/web/2-Js基础/03-Js中的new操作符.html" class="sidebar-link">Js中的new操作符</a></li><li><a href="/web/2-Js基础/04-Js原型链.html" class="sidebar-link">Js原型链</a></li><li><a href="/web/2-Js基础/05-Js防抖节流.html" class="sidebar-link">Js防抖节流</a></li><li><a href="/web/2-Js基础/06-Js深拷贝.html" class="sidebar-link">Js深拷贝</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Js进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Js安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mac</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript正则表达式详解"><a href="#javascript正则表达式详解" class="header-anchor">#</a> JavaScript正则表达式详解</h1> <p>正则表达式（Regular Expression）是一种用于匹配字符串中字符组合的模式。在JavaScript中，正则表达式是一个强大的工具，可以用于验证表单、处理文本等场景。</p> <h2 id="_1-元字符"><a href="#_1-元字符" class="header-anchor">#</a> 1. 元字符</h2> <p>元字符是正则表达式中最基本的构建块，它们具有特殊含义。</p> <h3 id="_1-1-边界字符"><a href="#_1-1-边界字符" class="header-anchor">#</a> 1.1 边界字符</h3> <table><thead><tr><th>字符</th> <th>描述</th></tr></thead> <tbody><tr><td><code>\</code></td> <td>转义符，将下一个字符标记为特殊字符或原义字符。例如，<code>'n'</code> 匹配字符 &quot;n&quot;，而 <code>'\n'</code> 匹配一个换行符</td></tr> <tr><td><code>^</code></td> <td>匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，<code>^</code> 也匹配 <code>'\n'</code> 或 <code>'\r'</code> 之后的位置</td></tr> <tr><td><code>$</code></td> <td>匹配输入字符串的结束位置。如果设置了 RegExp 对象的 Multiline 属性，<code>$</code> 也匹配 <code>'\n'</code> 或 <code>'\r'</code> 之前的位置</td></tr> <tr><td><code>\b</code></td> <td>匹配一个单词边界，即单词和空格之间的位置。例如，<code>'er\b'</code> 可以匹配 &quot;never&quot; 中的 'er'，但不能匹配 &quot;verb&quot; 中的 'er'</td></tr> <tr><td><code>\B</code></td> <td>匹配非单词边界</td></tr></tbody></table> <h3 id="_1-2-字符组"><a href="#_1-2-字符组" class="header-anchor">#</a> 1.2 字符组</h3> <table><thead><tr><th>字符</th> <th>描述</th></tr></thead> <tbody><tr><td><code>[]</code></td> <td>字符集合。匹配所包含的任意一个字符。例如，<code>'[abc]'</code> 可以匹配 &quot;plain&quot; 中的 'a'</td></tr> <tr><td><code>()</code></td> <td>捕获组（子表达式）。所获取的匹配可以从产生的 Matches 集合得到</td></tr> <tr><td><code>x\|y</code></td> <td>匹配 x 或 y。例如，<code>'z\|food'</code> 能匹配 &quot;z&quot; 或 &quot;food&quot;。<code>'(z\|f)ood'</code> 则匹配 &quot;zood&quot; 或 &quot;food&quot;</td></tr></tbody></table> <h3 id="_1-3-量词"><a href="#_1-3-量词" class="header-anchor">#</a> 1.3 量词</h3> <table><thead><tr><th>字符</th> <th>描述</th></tr></thead> <tbody><tr><td><code>*</code></td> <td>0到无数次</td></tr> <tr><td><code>+</code></td> <td>1到无数次</td></tr> <tr><td><code>?</code></td> <td>0 或者1 次（非贪婪模式后面讲）</td></tr> <tr><td><code>{n}</code></td> <td>重复N次</td></tr> <tr><td><code>{n,}</code></td> <td>重复至少N次</td></tr> <tr><td><code>{n,m}</code></td> <td>n到m次</td></tr></tbody></table> <h3 id="_1-4-特殊字符"><a href="#_1-4-特殊字符" class="header-anchor">#</a> 1.4 特殊字符</h3> <table><thead><tr><th>字符</th> <th>描述</th></tr></thead> <tbody><tr><td><code>.</code></td> <td>匹配除换行符（<code>\n</code>、<code>\r</code>）之外的任何单个字符</td></tr> <tr><td><code>\s</code></td> <td>匹配任何空白字符，包括空格、制表符、换页符等。等价于 <code>[\f\n\r\t\v]</code></td></tr> <tr><td><code>\S</code></td> <td>匹配任何非空白字符。等价于 <code>[^ \f\n\r\t\v]</code></td></tr> <tr><td><code>\w</code></td> <td>匹配字母、数字、下划线。等价于 <code>[A-Za-z0-9_]</code></td></tr> <tr><td><code>\W</code></td> <td>匹配非字母、数字、下划线。等价于 <code>[^A-Za-z0-9_]</code></td></tr> <tr><td><code>\d</code></td> <td>匹配一个数字字符。等价于 <code>[0-9]</code></td></tr> <tr><td><code>\D</code></td> <td>匹配一个非数字字符。等价于 <code>[^0-9]</code></td></tr></tbody></table> <h3 id="_1-5-转义"><a href="#_1-5-转义" class="header-anchor">#</a> 1.5 转义</h3> <p>在字符串中使用正则表达式时，需要注意转义字符的使用。正则表达式本身也需要转义。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用字符串创建正则表达式时，需要双重转义</span>
<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\d+'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'abc123de'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'d+'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'abc123dde'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dd</span>

<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ES5</span>
<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ES6写法 ES5报错</span>

<span class="token operator">/</span>\d<span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'abc123de'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_2-修饰符"><a href="#_2-修饰符" class="header-anchor">#</a> 2. 修饰符</h2> <p>修饰符用于指定正则表达式的匹配行为。</p> <table><thead><tr><th>字符</th> <th>描述</th></tr></thead> <tbody><tr><td><code>i</code></td> <td>执行对大小写不敏感的匹配 (case-insensitive)</td></tr> <tr><td><code>g</code></td> <td>执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）(global)</td></tr> <tr><td><code>m</code></td> <td>执行多行匹配。改变 <code>^</code> 和 <code>$</code> 的行为，使它们分别匹配每一行的开头和结尾，而不是整个字符串的开头和结尾 (multiline)</td></tr> <tr><td><code>s</code></td> <td>允许 <code>.</code> 匹配换行符 (dotAll)</td></tr> <tr><td><code>y</code></td> <td>执行“粘性”搜索，匹配从目标字符串的当前位置开始的匹配项 (sticky)</td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">yu[a-z]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Yuhoo'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// eslint-disable-next-line</span>
<span class="token operator">/</span>yu<span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Yuhoo'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token string">'yuhoo Yuki'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">yu[a-z]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;yuhoo&quot;, &quot;Yuki&quot;]</span>
<span class="token string">'1a2b3c4d'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d[a-z]\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1a2&quot;, &quot;3c4&quot;]</span>
<span class="token comment">// 从上次匹配结尾再次进行匹配</span>

<span class="token string">'yuhoo\nYuki'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^yu[a-z]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;yuhoo&quot;]</span>
<span class="token string">'yuhoo\nYuki'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^yu[a-z]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">igm</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;yuhoo&quot;, &quot;Yuki&quot;]</span>

<span class="token string">'yuhoo\nYuki'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">yu(.)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;yuhoo&quot;, &quot;Yuki&quot;]</span>
<span class="token string">'yuhoo\nYuki'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">yu(.)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">isg</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['yuhoo\nYuki']</span>

<span class="token string">'1a2b3c4e5f'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d[a-z]\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1a2&quot;, &quot;3c4&quot;]</span>
<span class="token string">'1a2b3c4e5f'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d[a-z]\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">yg</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1a2&quot;]</span>
<span class="token string">'1a22b33c44e5f'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d[a-z]\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">yg</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1a2&quot;, &quot;2b3&quot;, &quot;3c4&quot;, &quot;4e5&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="_3-javascript中的正则表达式方法"><a href="#_3-javascript中的正则表达式方法" class="header-anchor">#</a> 3. JavaScript中的正则表达式方法</h2> <p>JavaScript 提供了多种使用正则表达式的方法。</p> <h3 id="_3-1-string对象的方法"><a href="#_3-1-string对象的方法" class="header-anchor">#</a> 3.1 String对象的方法</h3> <h4 id="_3-1-1-search"><a href="#_3-1-1-search" class="header-anchor">#</a> 3.1.1 search()</h4> <ul><li>检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串</li> <li>一个与 regexp 相匹配的子串的起始位置</li> <li>不执行全局匹配，它将忽略标志 g</li> <li>返回正则表达式在字符串中首次匹配项的索引，否则，返回 <code>-1</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'yuhoo\nYuki'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Yu(.)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-1-2-match"><a href="#_3-1-2-match" class="header-anchor">#</a> 3.1.2 match()</h4> <ul><li>如果使用g标志，则将返回与完整正则表达式匹配的所有结果（Array），但不会返回捕获组，或者未匹配 null</li> <li>如果未使用g标志，则仅返回第一个完整匹配及其相关的捕获组（Array）。 在这种情况下，返回的项目将具有如下所述的其他属性，或者未匹配 null。
<ul><li>groups: 一个捕获组数组 或 undefined（如果没有定义命名捕获组）</li> <li>index: 匹配的结果的开始位置</li> <li>input: 搜索的字符串</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'yuhoo Yuki'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">yu([a-z])+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [</span>
<span class="token comment">//   0: &quot;yuhoo&quot;</span>
<span class="token comment">//   1: &quot;o&quot;</span>
<span class="token comment">//   groups: undefined</span>
<span class="token comment">//   index: 0</span>
<span class="token comment">//   input: &quot;yuhoo Yuki&quot;</span>
<span class="token comment">// ]</span>
<span class="token string">'yuhoo Yuki'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">yu[a-z]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;yuhoo&quot;, &quot;Yuki&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_3-1-3-replace"><a href="#_3-1-3-replace" class="header-anchor">#</a> 3.1.3 replace()</h4> <p>用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。返回替换后的新字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'jarvis yuhoo tab simba'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w+)\s*(\w+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'$2 $1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;yuhoo jarvis tab simba&quot;</span>
<span class="token string">'jarvis yuhoo tab simba'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b(\w+)\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;Jarvis Yuhoo Tab Simba&quot;</span>
<span class="token string">'jarvis yuhoo tab simba'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b(\w)(\w+)\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> $1<span class="token punctuation">,</span> $2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> $1<span class="token punctuation">,</span> $2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> $1<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> $2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;Jarvis Yuhoo Tab Simba&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_3-1-4-split"><a href="#_3-1-4-split" class="header-anchor">#</a> 3.1.4 split()</h4> <p>用于把一个字符串分割成字符串数组。返回一个字符串数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'JavaScript is great! JavaScript is powerful!'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['JavaScript', 'is', 'great!', 'JavaScript', 'is', 'powerful!']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['JavaScript', 'is', 'great!']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3-2-regexp对象的方法"><a href="#_3-2-regexp对象的方法" class="header-anchor">#</a> 3.2 RegExp对象的方法</h3> <h4 id="_3-2-1-test"><a href="#_3-2-1-test" class="header-anchor">#</a> 3.2.1 test()</h4> <p>用于检测一个字符串是否匹配某个模式。返回 true 或 false。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'JavaScript is great!'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">javascript</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">bad</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_3-2-2-exec"><a href="#_3-2-2-exec" class="header-anchor">#</a> 3.2.2 exec()</h4> <p>用于检索字符串中的正则表达式的匹配。返回一个数组，如果没有匹配结果则返回 null。如果使用了 g 修饰符，则每次调用 exec() 都会从 lastIndex 开始查找。</p> <p>lastIndex 属性用于指定下一次匹配开始的位置。只有正则表达式使用了表示全局检索的 &quot;g&quot; 标志时，该属性才会起作用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d[a-z]\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
r<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'1a2b3c4d5e'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1a2&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
r<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'1a2b3c4d5e'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;3c4&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-2-3-compile"><a href="#_3-2-3-compile" class="header-anchor">#</a> 3.2.3 compile()</h4> <p>用于改变 RegExp 对象的匹配模式。该方法已废弃，不推荐使用。</p> <h2 id="_4-贪婪模式和非贪婪模式"><a href="#_4-贪婪模式和非贪婪模式" class="header-anchor">#</a> 4. 贪婪模式和非贪婪模式</h2> <h3 id="_4-1-贪婪匹配模式"><a href="#_4-1-贪婪匹配模式" class="header-anchor">#</a> 4.1 贪婪匹配模式</h3> <p>贪婪匹配模式会尽可能多地匹配符合条件的内容。</p> <p><strong>标识符：</strong> <code>+</code> <code>?</code> <code>*</code> <code>{n}</code> <code>{n,}</code> <code>{n,m}</code></p> <h3 id="_4-2-非贪婪匹配模式"><a href="#_4-2-非贪婪匹配模式" class="header-anchor">#</a> 4.2 非贪婪匹配模式</h3> <p>非贪婪匹配模式会尽可能少地匹配符合条件的内容，一旦发现匹配符合要求，立马就匹配成功，而不会继续匹配下去（除非有g，开启下一组匹配）。</p> <p><strong>标识符：</strong> <code>+?</code> <code>??</code> <code>*?</code> <code>{n}?</code> <code>{n,}?</code> <code>{n,m}?</code></p> <h3 id="_4-3-回溯现象"><a href="#_4-3-回溯现象" class="header-anchor">#</a> 4.3 回溯现象</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a \'jarvis\' b \'tim\' c \'yuhoo\' d'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">'.*'</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;'jarvis' b 'tim' c 'yuhoo'&quot;]</span>
<span class="token string">'a \'jarvis\' b \'tim\' c \'yuhoo\' d'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">'.*?'</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;'jarvis'&quot;, &quot;'tim'&quot;, &quot;'yuhoo'&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>正则表达式在匹配过程中可能会发生回溯，这是匹配算法的一部分。</p> <p><strong>贪婪匹配过程分析：</strong></p> <ol><li>从字符串开始查找匹配字符 ```</li> <li>找到第3个字符发现匹配，接着看后面的匹配字符</li> <li><code>.</code> 匹配换行以外任意字符，而其后面有连词 <code>*</code>，表示0次以上，所以其匹配了字符 <code>jarvis' b 'tim' c 'yuhoo' d</code></li> <li>然后匹配字符 <code>\``，发现无法匹配，所以回溯，前面的</code>.*` 回溯一次</li> <li>字符d与匹配字符不匹配，接着向前回溯</li> <li>最后找到倒数第3个字符匹配成功，输出匹配字符 <code>'jarvis' b 'tim' c 'yuhoo'</code></li></ol> <p><strong>非贪婪匹配过程分析：</strong></p> <ol><li>从字符串开始查找匹配字符 ```</li> <li>找到第3个字符发现匹配，接着看后面的匹配字符</li> <li><code>.</code> 匹配换行以外任意字符，而其后面有连词 <code>*?</code>，所以什么都不匹配，直接匹配后面的规则</li> <li>字符y与匹配字符 <code>\`` 不匹配，进行回溯，前面的匹配规则</code>.*?` 匹配字符y</li> <li>字符u与匹配字符 <code>\`` 不匹配，进行回溯，前面的匹配规则</code>.*?` 匹配字符yu</li> <li>直到匹配第8个字符，完成第一次匹配 <code>'jarvis'</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'jarvisTestAb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z]*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;jarvisTestAb&quot;, &quot;TestAb&quot;</span>
<span class="token string">'jarvisTestAb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z])*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;jarvisTestAb&quot;, &quot;b&quot;</span>
<span class="token string">'jarvisTestAb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z][a-zA-Z])*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;jarvisTestAb&quot;, &quot;Ab&quot;</span>
<span class="token string">'jarvisTestAbc'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z][a-zA-Z])*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;jarvisTestAb&quot;, &quot;Ab&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>根据上面例子，为什么第二个捕获组中 *在括号里面和外面不一样。我们一个个来解释</p> <ul><li>第一个我们看到<code>[a-z]*</code>是说匹配一个或者多个字符，根据贪婪匹配规则，匹配到<code>TestAb</code></li> <li>第二个<code>([a-z])*</code>是说匹配一个字母一次多次匹配，最后一次匹配字母<code>b</code></li> <li>第三个<code>([a-z][a-z])*</code>是说一次或者多次匹配2个字母，最后一次啊匹配&quot;Ab&quot;，所以被捕获到</li> <li>第四个<code>([a-z][a-z])*</code>是说一次或者多次匹配2个字母，最后一次啊匹配&quot;Ab&quot;，而最后的字母c不能被匹配，所以被捕获到</li></ul> <h3 id="_4-4-捕获组中的量词"><a href="#_4-4-捕获组中的量词" class="header-anchor">#</a> 4.4 捕获组中的量词</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 匹配一个或多个字符</span>
<span class="token keyword">const</span> result1 <span class="token operator">=</span> <span class="token string">'jarvisTestAb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z]*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;jarvisTestAb&quot;, &quot;TestAb&quot;, index: 0, input: 'jarvisTestAb', groups: undefined]</span>

<span class="token comment">// 匹配一个字母，多次匹配，最后一次匹配字母b</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token string">'jarvisTestAb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z])*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;jarvisTestAb&quot;, &quot;b&quot;, index: 0, input: 'jarvisTestAb', groups: undefined]</span>

<span class="token comment">// 一次或多次匹配2个字母，最后一次匹配&quot;Ab&quot;</span>
<span class="token keyword">const</span> result3 <span class="token operator">=</span> <span class="token string">'jarvisTestAb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z][a-zA-Z])*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;jarvisTestAb&quot;, &quot;Ab&quot;, index: 0, input: 'jarvisTestAb', groups: undefined]</span>

<span class="token comment">// 一次或多次匹配2个字母，最后一次匹配&quot;Ab&quot;，而最后的字母c不能被匹配</span>
<span class="token keyword">const</span> result4 <span class="token operator">=</span> <span class="token string">'jarvisTestAbc'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jarvis([a-zA-Z][a-zA-Z])*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;jarvisTestAb&quot;, &quot;Ab&quot;, index: 0, input: 'jarvisTestAbc', groups: undefined]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>在第二个捕获组中，<code>*</code> 在括号里面和外面的区别：</p> <ol><li><code>[a-z]*</code> 表示匹配一个或多个字符，根据贪婪匹配规则，匹配到 <code>TestAb</code></li> <li><code>([a-z])*</code> 表示匹配一个字母，多次匹配，最后一次匹配字母 <code>b</code></li> <li><code>([a-z][a-z])*</code> 表示一次或多次匹配2个字母，最后一次匹配 &quot;Ab&quot;，所以被捕获到</li> <li><code>([a-z][a-z])*</code> 表示一次或多次匹配2个字母，最后一次匹配 &quot;Ab&quot;，而最后的字母c不能被匹配，所以被捕获到</li></ol> <h2 id="_5-环视结构"><a href="#_5-环视结构" class="header-anchor">#</a> 5. 环视结构</h2> <p>环视(Lookaround)也被称为断言(Assertion)或零宽断言(Zero-width assertion)。</p> <p>环视是一种非捕获型分组，即不保存匹配到的内容，只进行匹配检查。</p> <p>环视匹配到的内容不包括在最终的匹配结果中，即匹配的结果不包括环视的内容。</p> <table><thead><tr><th>表达式</th> <th>说明</th></tr></thead> <tbody><tr><td>(?&lt;=Expression)</td> <td>逆序肯定环视，表示所在位置左侧能够匹配Expression</td></tr> <tr><td>(?&lt;!Expression)</td> <td>逆序否定环视，表示所在位置左侧不能匹配Expression</td></tr> <tr><td>(?=Expression)</td> <td>顺序肯定环视，表示所在位置右侧能够匹配Expression</td></tr> <tr><td>(?!Expression)</td> <td>顺序否定环视，表示所在位置右侧不能匹配Expression</td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'https://xxx.com/path?id=12&amp;chn=234'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\?|#|&amp;)id=([^&amp;#]*)(&amp;|#|$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;id=12&amp;&quot;]</span>
<span class="token string">'https://xxx.com/path?id=12&amp;chn=234'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\?|#|&amp;)id=([^&amp;#]*)(?=&amp;|#|$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;id=12&quot;]</span>
<span class="token string">'1234567890.12'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\d)(?=(\d{3})+(?!\d))</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1,234,567,890.12&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>主要看最后一个例子</p> <p>我们拆开来分析</p> <ul><li><code>(\d{3})</code>              匹配多个连续3个数</li> <li><code>(\d{3})+(?!\d)</code>   匹配多个连续3个数且其右边与非数字字符相连</li> <li><code>(?=(\d{3})+(?!\d))</code> 匹配一个位置 该位置右边为多个连续3个数且其右边与非数字字符相连</li> <li><code>(?&lt;=\d)(?=(\d{3})+(?!\d))</code>匹配一个位置 该位置左边是一个数字 该位置右边为多个连续3个数且其右边与非数字字符相连</li></ul> <p>补充：<strong>最近开发时发现微信不支持逆序环视 <code>?&lt;= ?&lt;!</code>会报错</strong></p> <h2 id="_6-换行符"><a href="#_6-换行符" class="header-anchor">#</a> 6. 换行符</h2> <h3 id="_6-1-正则相关"><a href="#_6-1-正则相关" class="header-anchor">#</a> 6.1 正则相关</h3> <table><thead><tr><th>字符</th> <th>描述</th></tr></thead> <tbody><tr><td><code>\s</code></td> <td>匹配任何空白字符，包括空格、换页(<code>\f</code>)、换行(<code>\n</code>)、回车(<code>\r</code>)、水平制表符(<code>\t</code>)、垂直制表符(<code>\v</code>)，等价于 <code>[ \f\n\r\t\v]</code></td></tr> <tr><td><code>\n</code></td> <td>匹配一个换行符。等价于 <code>\x0a</code> 和 <code>\cJ</code></td></tr> <tr><td><code>\r</code></td> <td>匹配一个回车符。等价于 <code>\x0d</code> 和 <code>\cM</code></td></tr></tbody></table> <h4 id="起源"><a href="#起源" class="header-anchor">#</a> 起源</h4> <p>在计算机还没有出现之前，有一种叫做电传打字机（Teletype Model 33）的玩意，每秒钟可以打10个字符。但是它有一个问题，就是打完一行换行的时候，要用去0.2秒，正好可以打两个字符。要是在这0.2秒里面，又有新的字符传过来，那么这个字符将丢失。</p> <p>于是，研制人员想了个办法解决这个问题，就是在每行后面加两个表示结束的字符。一个叫做“回车”，告诉打字机把打印头定位在左边界；另一个叫做“换行”，告诉打字机把纸向下移一行。</p> <h3 id="_6-2-区别"><a href="#_6-2-区别" class="header-anchor">#</a> 6.2 区别</h3> <p>Unix系统里，每行结尾只有“&lt;换行&gt;”，即“<code>\n</code>”；Windows系统里面，每行结尾是“&lt;回车&gt;&lt;换行&gt;”，即“<code>\r\n</code>”；Mac系统里，每行结尾是“&lt;回车&gt;”。一个直接后果是，Unix/Mac系统下的文件在Windows里打开的话，所有文字会变成一行；而Windows里的文件在Unix/Mac下打开的话，在每行的结尾可能会多出一个^M符号。</p> <table><thead><tr><th>环境</th> <th>换行</th></tr></thead> <tbody><tr><td>win</td> <td><code>\r\n</code></td></tr> <tr><td>linux unix</td> <td><code>\n</code></td></tr> <tr><td>mac os</td> <td><code>\r</code></td></tr></tbody></table> <h3 id="_6-3-实例分析"><a href="#_6-3-实例分析" class="header-anchor">#</a> 6.3 实例分析</h3> <p>在linux环境 输入命令</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token parameter variable">-en</span> <span class="token string">'1\n2\r\n3'</span> <span class="token operator">&gt;</span> test.txt
<span class="token function">vim</span> test.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看到内容如下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">1</span>
<span class="token number">2</span>^M
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>文件在win环境中打开显示</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">12</span>
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果是一个win文件在linux中打开发现没有^M标记</p> <p>按理说每个换行后面应该多一个^M标记 但是因为linux系统会检测文件换行格式，如果是<code>\r\n</code>会自动标识为win环境进行换行。</p> <h3 id="_6-4-js使用换行"><a href="#_6-4-js使用换行" class="header-anchor">#</a> 6.4 js使用换行</h3> <h4 id="_6-4-1-alert-弹框换行结果"><a href="#_6-4-1-alert-弹框换行结果" class="header-anchor">#</a> 6.4.1 alert 弹框换行结果</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// eslint-disable-next-line no-alert</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'你好&lt;br/&gt;我是yuhoo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不换行打印标签&lt;/br&gt;</span>
<span class="token comment">// eslint-disable-next-line no-alert</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'你好\n我是yuhoo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 换行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_6-4-2-innerhtml-html-v-html方法中换行结果"><a href="#_6-4-2-innerhtml-html-v-html方法中换行结果" class="header-anchor">#</a> 6.4.2 innerHTML/ html( )/v-html方法中换行结果</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'你好&lt;br&gt;请换行'</span><span class="token punctuation">;</span> <span class="token comment">// 换行</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'你好\n请换行'</span><span class="token punctuation">;</span> <span class="token comment">// 不换行</span>
<span class="token comment">// 测试网址 https://www.runoob.com/regexp/regexp-tutorial.html</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_6-4-3-innertext-text-v-text方法中使用-n换行结果"><a href="#_6-4-3-innertext-text-v-text方法中使用-n换行结果" class="header-anchor">#</a> 6.4.3 innerText/ text( )/v-text方法中使用<code>\n</code>换行结果</h4> <p>Vue项目中v-text中使用<code>\n</code>效果同v-html 不会换行
使用正则替换为<code>&lt;br&gt;</code> <code>XXX.replace(/\n/gm,&quot;&lt;br&gt;&quot;)</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'你好&lt;br&gt;请换行'</span><span class="token punctuation">;</span> <span class="token comment">// 不换行</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'你好\n请换行'</span><span class="token punctuation">;</span> <span class="token comment">// 换行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_6-5-软回车与硬回车"><a href="#_6-5-软回车与硬回车" class="header-anchor">#</a> 6.5 软回车与硬回车</h3> <p>软回车是用 Shift + Enter 产生的，它换行，但是并不换段，即前后两段文字在 Word 中属于同一“段”</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/19/2025, 4:28:59 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web/2-Js基础/01-Js数组.html" class="prev">
        Js数组
      </a></span> <span class="next"><a href="/web/2-Js基础/02-Js执行机制.html">
        Js执行机制
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.fdbd3a7d.js" defer></script><script src="/assets/js/2.c135791f.js" defer></script><script src="/assets/js/1.ef243348.js" defer></script><script src="/assets/js/68.02a17eb1.js" defer></script>
  </body>
</html>
